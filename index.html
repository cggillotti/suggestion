<html>
<head>
    <link rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Outfit">
  <script src="/js/words.js" ></script>
<style>
/* https://developer.mozilla.org/en-US/docs/Web/API/Screen_Wake_Lock_API */
.select-row {
  list-style-type: none;
  margin: 25px 0 0 0;
  padding: 0;
  display: flex;
flex-direction: row;
align-items: center;
}

#set {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  grid-gap: 10px;

}

.two-span {
  grid-column-end: span 2;
}


#display {
  font-size: 5vw;
  text-align: center;
}

#timestamps li {
  list-style-type:square;
}

.select-row li {
  margin: 0 5px 0 0;
  width: 100px;
  height: 40px;
  position: relative;
}

.select-row label,
.select-row input {
  display: block;
  border: 1px black dashed;
  text-align: center;
}

.select-row label {
  padding: 10px;
}

.select-row input {
    position: fixed;
    opacity: 0;
    pointer-events: none;
}

.select-row input[type="radio"]:checked+label,
.Checked+label {
  border: 2px black solid;
}

body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  background: linear-gradient(to bottom, #5f3434, #b7b7e2);
  padding-left: 30%;
  padding-right: 30%;
  padding-top: 50px;
  font-family: 'Outfit', serif;
}

.timer-on {
background: linear-gradient(0deg, #b8f0a7, #5edfdf, #ebe18f, #f15858);
	background-size: 400% 400%;
	animation: 15s gradient ease 1;
	height: 100vh;
    animation-fill-mode: forwards;
}

@keyframes gradient {
	0% {
        background-position: 100% 100%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 0%;
	}
}


.hidden {
    display: none;
    font-size:0;
}

#suggestionBox {
    /* position: absolute;
    width:50%;
    top: 50%;
    bottom: 50%;
    right: 50%;
    left: 50%; */
    border: 1px solid #000;
    padding: 10px;
    text-align: center;

}

button {
    display: inline-block;
    padding: 1rem 2rem;
    margin: 0;
    text-decoration: none;
    border: 1px black dashed;
    background: rgba(0,0,0,0.2);
    font-size: 1rem;
    cursor: pointer;
    text-align: center;
    -webkit-appearance: none;
    -moz-appearance: none;
}

button:hover,
button:focus {
    border: 1px solid black;
}

button:focus {
    border: 1px solid black;
}

button:active {
    transform: scale(0.99);
    border: 1px solid black;
}

.suggestion {
  font-size:2vw;
}

@keyframes slidein {
  from {
    font-size:0;
  }

  to {
    font-size:2vw;
  }
}

</style>
<script language="javascript">

window.addEventListener('load', function() {
    var set = 0;
    var isTimerOn = false;
    var timer = null;
    var  seconds, minutes;
    const WORDS = SUGGESTIONS.words;
    const PLACES = SUGGESTIONS.places;
    const JOBS = SUGGESTIONS.jobs;
    const ALL = SUGGESTIONS.words.concat(SUGGESTIONS.places);
    var currentLibray = ALL;

    function getRandomItem(list) {
        var rand = Math.floor(Math.random() * list.length);
        document.querySelector("#suggestion").innerHTML = list[rand];
        document.querySelector("#suggestion").classList.add("hidden");
        document.querySelector("#suggestion").classList.remove("hidden");
        document.querySelector("#suggestion").classList.remove("suggestion");
        document.querySelector("#suggestion").classList.add("suggestion");
        currentLibray = list;
    }

    function setEventPoint(event) {
      let stamp;
       if(isTimerOn) {
        if(seconds <10 ) {
             stamp = `<li>${minutes}:0${seconds} - ${event}</li>`;
        }else {
             stamp = `<li>${minutes}:${seconds} - ${event}</li>`;
        }
       
        document.querySelector("#timestamps").insertAdjacentHTML("beforeend", stamp);
       }
    }
    
    getRandomItem(ALL);
    console.log(SUGGESTIONS);

    document.querySelector("#get").addEventListener('click',(e)=>{
        getRandomItem(ALL);
    });

    document.querySelector("#places").addEventListener('click',(e)=>{
        getRandomItem(PLACES);
    });
    
    document.querySelector("#jobs").addEventListener('click',(e)=>{
        getRandomItem(JOBS);
    });

    document.querySelector("#toyi").addEventListener('click',(e)=>{
        getRandomItem(WORDS);
          });

    document.querySelector("#suggestionBox").addEventListener('click',(e)=>{
        getRandomItem(currentLibray);
    });

    document.querySelector("#stop").addEventListener('click',(e)=>{
      

        setEventPoint("Ending Set " + set);
        isTimerOn = false;
        clearInterval(timer);
        document.querySelector("body").classList.remove("timer-on");
        document.querySelector("#display").innerHTML = "0:00";
    });

    document.querySelector("#scene").addEventListener('click',(e)=>{
      setEventPoint("Scene");
    });

    document.querySelector("#groupgame").addEventListener('click',(e)=>{
      setEventPoint("Group Game");
    });

    document.querySelector("#run").addEventListener('click',(e)=>{
      setEventPoint("Run");
    });

    function backgroundChange() {

    }

    document.querySelector("#start").addEventListener('click',(e)=>{
       
        seconds = 0;
        minutes = 0;
        if(timer) {
            clearInterval(timer);
        }

        isTimerOn = true;
        document.querySelector("body").classList.remove("timer-on");
        document.querySelector("body").classList.add("timer-on");
        document.querySelector("body").setAttribute('style','animation-duration:1200s');
        setEventPoint("Starting Set " + ++set);
        timer = setInterval(()=>{ 
                
            if(seconds == 59) {
                seconds = 0;
                minutes++;
            } else {
                seconds++;
            }
            if(seconds >= 10) {
                document.querySelector("#display").innerHTML = `${minutes}:${seconds}`;
            } else {
                document.querySelector("#display").innerHTML = `${minutes}:0${seconds}`;  
            }
        
        },1000);
      
  });
})
</script>

</head>
<body>
    <!-- <h1>Get your suggestion here:</h1> -->
    <div id="suggestionBox">
        <span id="suggestion" class="hidden"></span>
    </div>
    <div id="control">

        <ul class="select-row">
            <li>
              <input type="radio" id="get" name="type" />
              <label for="get">All</label>
            </li>
            <li>
                <input type="radio" id="places" name="type" />
                <label for="places">Places</label>
              </li>
              <li>
                <input type="radio" id="jobs" name="type" />
                <label for="jobs">Jobs</label>
              </li>
              <li>
                <input type="radio" id="toyi" name="type" />
                <label for="toyi">TOYI</label>
              </li>
        </ul>
    </div>

    <div id="timer">
        <div id="display">
            0:00
        </div>
        <div id="set">
            <!-- Set length 
            <input type="number" pattern="[0-9]" placeholder="20" min="1" step="1" max="60"></input> -->
            <!-- Scene "Lap"-->
            <button id="start" class="control two-span">Start</button>
            <button id="stop" class="control two-span">Stop</button>
            <button id="scene" class="control">Scene</button>
            <button id="groupgame" class="control">Group Game</button>
            <button id="run" class="control">Run</button>
        </div>
    </div>
    <div id="markers">
        <ol id="timestamps">

        </ol>
    </div>
</body>
</html>